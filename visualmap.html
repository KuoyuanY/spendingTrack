<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<style>
      #map {
        height: 780px;
        width: 1380px;
      }
</style>
</head>
<body>
<div id="navbar"><span>Spending Concentration Map</span></div>
<div id="wrapper">
<div id="map"></div>
<div id="info"></div>
    <script>
      var map;
      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: -34.397, lng: 150.644},
          zoom: 9
        });
        var xhr = new XMLHttpRequest();
        xhr.open('GET', "http://api.reimaginebanking.com/merchants/58a8df2e1756fc834d9053cb?key=5398eb0c1585b1634aee49389de825a1", true);
        xhr.send();
        xhr.addEventListener("readystatechange", processRequest, false);
        xhr.onreadystatechange = processRequest;

        function makeMarker(response){
          var coordinates = new google.maps.Marker({
            position: {lat:response.geocode.lat, lng: response.geocode.lng},
            map: map,
            icon:'number_1'
          })
        }

        function processRequest(e){
          if (xhr.readyState == 4 && xhr.status == 200) {
              var response = JSON.parse(xhr.responseText);
              for(var i=0; i<response.length; i++){
                makeMarker(response);
              }
              }
          }
        }





    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAEgQeahrCY6f1LvIA0WkPJafUTCBLICr4&callback=initMap"
    async defer></script>
</div>
</body>
</html>
